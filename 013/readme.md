## 1801ВП1-013

### Фотографии кристалла высокого разрешения
- [1801ВП1-013, 178M](http://www.1801bm1.com/files/retro/1801/images/vp1-013.jpg)
- [1801ВП1-013, 93M](http://www.1801bm1.com/files/retro/1801/images/vp1-013-2.jpg)

### Условное графическое обозначение
![Symbol](/013/img/013.png)

### Назначение выводов
| Номер       | Название     | Конфигурация | Назначение
|-------------|--------------|--------------|-----------------------------------------
| 1           | CLC          | Вход         | Основная тактовая частота, все внутренние автоматы состояний используют фронты и срезы сигнала на данном входе
| 2-8         | A0-A6        | Выход        | Мультиплексированный адрес динамической памяти, адрес регенерации. Значение адреса инвертировано
| 9-20, 22-25 | nAD0-nAD15   | Вход         | Шина адреса/данных МПИ, используется для получения адреса обращения к памяти
| 21          | GND          | Питание      | Нулевой потенциал (земля)
| 26          | nSPS         | Вход         | Признак обращения в пультовом режиме, низкий уровень поступает с выхода nSEL процессора 1801ВМ2. Динамическая память в пультовом режиме будет откликаться только в диапазоне обращений 160000..177777, если уровень MSEL высокий (низкий MSEL безусловно запрещает динамическую память)
| 27          | MSEL         | Вход         | Вход декодера декодера старших разрядов A13-A15. Защелкивается ниспадающим фронтом на входе nSYNC. Высокий уровень на данном входе разрешает работу динамической памяти в указанном диапазоне адресов. Если уровень низкий, то контроллер памяти не реагирует на цикл обмена
| 28          | LOCK         | Выход        | Низкий уровень блокирует обращение к системному ПЗУ. В режиме одного банка на 565РУ5 представляет разряд А7 мультиплексированного адреса
| 29          | nWE          | Выход        | Низкий уровень при записи в динамическое ОЗУ
| 30, 31      | nRAS0, nRAS1 | Выход        | Стробы адреса страницы микросхем динамической памяти для двух банков, регенерация осуществляется транзакцией "RAS only"
| 32          | RC           | Вход         | Вход конфигурации, высокий уровень - два банка на 565РУ6, низкий уровень - один банк на 565РУ5
| 33, 34      | nCAS0, nCAS1 | Выход        | Стробы адреса колонки микросхем динамической памяти, при записи определяют младший и старший байты
| 35          | nDME         | Выход        | Разрешение выходов буферного регистра данных, низкий уровень разрешает выходы
| 36          | C            | Выход        | Тактирование выходного регистра данных, высокий уровень записывает данные в выходной буферный регистр с выходов микросхем динамической памяти
| 37          | nDOUT        | Вход         | Строб записи данных МПИ
| 38          | nDIN         | Вход         | Строб чтения данных МПИ
| 39          | nRPLY        | Выход ОК     | Строб подтверждения транзакции МПИ
| 40          | nWTBT        | Вход         | Признак записи байта МПИ
| 41          | nSYNC        | Вход         | Строб адреса МПИ
| 42          | VCC          | Питание      | Потенциал +5В (источник питания)

### Описание
Микросхема 1801ВП1-013 представляет собой контроллер динамической памяти
и обычно применялась как микросхема-компаньон для микропроцессора 1801ВМ2.
1801ВП1-013 может работать в двух режимах, которые выбираются уровнем
на входе конфигурации RC.

При высоком уровне на входе конфигурации контроллер управляет двумя
16-битными банками памяти на микросхемах 565РУ6 и поддерживает режим
адресации пультового режима (определяется низким уровнем на входе SEL).
Этот режим работы 1801ВП1-013 используется в одноплатной микроЭВМ МС1201.02.

При низком уровне на входе RC 1801ВП1-013 управляет одним 16-битным банком
на микросхемах 565РУ5, обеспечивая доступ к 128 килобайтам памяти. При этом
вход SEL начинает работать как дополнительный вход 17-го разряда адреса.

Внешний адрес регенерации остается 7-битным, несмотря на то что внутренний
счетчик адреса регенерации является 8-битным, старший разряд счетчика никак
не используется.

Также имеется специальный тестовый режим - при подаче высокого уровня
на SYNC, и одновременно низких уровней на DIN и DOUT, на выходы A0-A6
непрерывно выводится значение счетчика адреса регенерации, а сам счетчик
начинает тактироваться от входа CLK. В таком режиме на заводе вероятно было
удобно определять частотные характеристики получившейся микросхемы.

Никаких внутренних регистров у 1801ВП1-013 нет, это просто контроллер
динамической памяти, выводы nAD0-nAD15 являются исключительно входами.

По сравнению с 1801ВП1-030 схемотехника сделала шаг вперед - длинные
счетчики разделены на стадии с параллельным переносом, автоматы состояний
теперь тактируются полутактами - это позволяет повысить точность временных
диаграмм и уменьшить общую длину цикла доступа к динамическому ОЗУ.
Для ускорения работы выходного мультиплексора адреса разработчики
отступили от стандартной библиотеки функциональных ячеек - были обнаружены
цепи "монтажное И".

Контроллер памяти также осуществляет периодические циклы регенерации в режиме
"RAS only", одновременно для обоих возможных банков памяти. Цикл регенерации
по возможности запускается немедленно после завершения транзакции со стороны
процессора, минимизируя возможные паузы ожидания завершения регенерации.
