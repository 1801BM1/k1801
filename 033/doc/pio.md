### Контроллер интерфейса параллельного ввода/вьвода
Установка микросхемы в режим контроллера интерфейса параллельного ввода/вывода
производится подачей определенных уровней напряжения на выводы RC0, RC1, RC2, RC3.
Помимо выбора режима работы микросхемы комбинации напряжений на выводах RC0—RC3
осуществляют переадресацию регистров и векторов прерываний. Адреса регистров
и векторов прерываний, соответствующие определенным комбинациям напряжений
на выводах RC0—RC3, представлены в следующей таблице:

| RC3 | RC2 | RC1 | RC0 |Адрес РC            | Адрес РИ           | Адрес РП           | Адрес вектора прерывания
|-----|-----|-----|-----|--------------------|--------------------|--------------------|--------
| 0   | 1   | 0   | 1   | 167770<sub>8</sub> | 167772<sub>8</sub> | 167774<sub>8</sub> | 300/304<sub>8</sub>
| 1   | 1   | 0   | 1   | 167760<sub>8</sub> | 167762<sub>8</sub> | 167764<sub>8</sub> | 310/314<sub>8</sub>
| 0   | 1   | 1   | 0   | 167750<sub>8</sub> | 167752<sub>8</sub> | 167754<sub>8</sub> | 320/324<sub>8</sub>
| 1   | 1   | 1   | 0   | 167740<sub>8</sub> | 167742<sub>8</sub> | 167744<sub>8</sub> | 330/334<sub>8</sub>
| 0   | 1   | 1   | 1   | xxxxx0<sub>8</sub> | xxxxx2<sub>8</sub> | xxxxx4<sub>8</sub> | xx0/xx4<sub>8</sub>

Микросхема осуществляет прием и передачу информации с помощью регистра состояния (PC), регистра приемника (РП)
и регистра источника (РИ). Регистры источника и приемника выполнены на двух микросхемах К1801ВП1-034.
Микросхема содержит регистр состояния, компаратор адресов, блок прерываний и блок
управления регистрами приемника и источника.

### Условное графическое обозначение в режиме интерфейса параллельного ввода/вывода
![Symbol](/033/img/033-pio.png)

### Структурная схема для режима интерфейса параллельного ввода/вывода
![Structure](/033/img/033-pio-arch.jpg)

### Назначение выводов в режиме интерфейса параллельного ввода/вывода
| Номер       | Название     | Конфигурация | Назначение
|-------------|--------------|--------------|-------------------------
| 1           | RC3          | Вход         | Выбор режима 3 (высокий)
| 2           | RC0          | Вход         | Выбор режима 0 (высокий)
| 3           | RC1          | Вход         | Выбор режима 1 (высокий)
| 4           | RC2          | Вход         | Выбор режима 2 (высокий)
| 5           | RDO          | Выход        | Задержка ответа, выход
| 6           | RDI          | Вход         | Задержка ответа, вход
| 7           | CSR0         | Выход        | Выход регистра состояния РС0
| 8           | CSR1         | Выход        | Выход регистра состояния РС1
| 9-16        | nAD0-nAD7    | Вход/Выход   | Канал nAD0-nAD7
| 17-20       | nAD8-nAD11   | Вход         | Канал nAD8-nAD11
| 21          | GND          | Питание      | Нулевой потенциал (земля)
| 22          | nAD12        | Вход         | Канал nAD12
| 23          | nBS          | Вход         | Выбор внешнего устройства
| 24          | nAD14        | Вход         | Канал nAD14
| 25          | nAD15        | Выход        | Канал nAD15
| 26          | nB1R         | Выход        | Вывод старшего байта
| 27          | nDTR         | Выход        | Ввод данных
| 28          | nNDR         | Выход        | Вывод данных
| 29          | nB0R         | Выход        | Вывод младшего байта
| 30          | nREQB        | Вход         | Требование B
| 31          | nORR         | Выход        | Чтение выходного порта
| 32          | nREQA        | Вход         | Требование A
| 33          | nIAKI        | Вход         | Вход подтверждения прерывания
| 34          | nINIT        | Вход         | Сброс периферии
| 35          | nVIRQ        | Выход-OK     | Запрос на прерывание
| 33          | nIAKI        | Вход         | Вход подтверждения прерывания
| 34          | nINIT        | Вход         | Сброс периферии
| 35          | nVIRQ        | Выход-OK     | Запрос на прерывание
| 36          | nIAKO        | Выход        | Выход подтверждения прерывания
| 37          | nDOUT        | Вход         | Строб записи данных канала
| 38          | nDIN         | Вход         | Строб чтения данных канала
| 39          | nRPLY        | Выход-OK     | Подтверждение обмена ведомым
| 40          | nWTBT        | Вход         | Признак записи/байтовой операции
| 41          | nSYNC        | Вход         | Признак операции обмена на канале
| 42          | VCC          | Питание      | Потенциал +5В (источник питания)

### Регистр состояния
| Бит | Название | Доступ | Назначение
|-----|----------|--------|------------------------
| 15  | REQB     | RO     | требование прерывания B
| 07  | REQA     | RO     | требование прерывания A
| 06  | IEA      | RW     | разрешение прерывания A, сбрасывается сигналом nINIT
| 05  | IEB      | RW     | разрешение прерывания B, сбрасывается сигналом nINIT
| 01  | CSR1     | RW     | программируемый разряд, выводится на выход CSR1
| 00  | CSR0     | RW     | программируемый разряд, выводится на выход CSR0

Разряды 2-4, 8-14 не используются

### Сигналы управления регистрами РП и РИ
| Сигнал | Назначение
|--------|---------------------------------------------------------
| nDTR   | вырабатывается микросхемой при чтении регистра приемника
| nNDR   | вырабатывается микросхемой при записи в регистр источника
| nB1R	 | вырабатывается микросхемой при записи старшего байта в регистр источника
| nB0R   | вырабатывается микросхемой при записи младшего байта в регистр источника
| nORR   | вырабатывается микросхемой при чтении регистра источника
| nRDO   | выход разрыва цепочки формирования сигнала RPLY
| nRDI   | вход разрыва цепочки формирования сигнала RPLY

### Работа микросхемы по прерыванию
Запрос прерывания VIRQ возникает по появлении хотя бы одного из сигналов
REQA, REQB при наличии в регистре состояния соответствующего разрешения
прерывания IEA, IEB. При одновременном появлении сигналов REQA и REQB
более высокий приоритет имеет требование В. Выполнение процедуры прерывания
стандартное.
