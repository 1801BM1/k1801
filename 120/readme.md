## 1801ВП1-120

### Фотографии кристалла высокого разрешения
[1801ВП1-120, 97M](http://www.1801bm1.com/files/retro/1801/images/vp1-120.jpg)

### Условное графическое обозначение
![Symbol](/120/img/120.png)

### Назначение выводов
| Номер       | Название     | Конфигурация | Назначение
|-------------|--------------|--------------|-----------------------------------------
| 1           | nADP2        | Вых-3/Вход   | Разряд AD2 периферийной шины МПИ
| 2           | nADP1        | Вых-3/Вход   | Разряд AD1 периферийной шины МПИ
| 3           | nADP0        | Вых-3/Вход   | Разряд AP0 периферийной шины МПИ
| 4           | nDOUTC       | Вход         | Строб записи данных центральной шины МПИ
| 5           | nDINC        | Вход         | Строб чтения данных центральной шины МПИ
| 6           | nSYNCC       | Вход         | Строб адреса центральной шины МПИ
| 7           | nIAKOP       | Выход        | Выход цепочки подтверждения прерывания периферийного процессора
| 8           | nIAKOC       | Выход        | Выход цепочки подтверждения прерывания центрального процессора
| 9           | nINITC       | Вход         | Аппаратный сброс со стороны центрального процессора
| 10          | nIAKIC       | Вход         | Вход цепочки подтверждения прерывания центрального процессора
| 11          | nRPLYC       | Выход ОК     | Строб подтверждения транзакции центральной шины МПИ
| 12          | ARC          | Выход ОК     | Сигнал подтверждения приема адреса от центрального процессора
| 13          | nCSC         | Вход         | Выбор контроллера на центральной шине МПИ
| 14          | nADC0        | Вых-3/Вход   | Разряд AD0 центральной шины МПИ
| 15          | nADC1        | Вых-3/Вход   | Разряд AD1 центральной шины МПИ
| 16          | nADC2        | Вых-3/Вход   | Разряд AD2 центральной шины МПИ
| 17          | nADC3        | Вых-3/Вход   | Разряд AD3 центральной шины МПИ
| 18          | nADC4        | Вых-3/Вход   | Разряд AD4 центральной шины МПИ
| 19          | nVIRQC       | Выход OK     | Запрос прерывания центрального процессора
| 20          | nADC5        | Вых-3/Вход   | Разряд AD5 центральной шины МПИ
| 21          | GND          | Питание      | Нулевой потенциал (земля)
| 22          | nADC6        | Вых-3/Вход   | Разряд AD6 центральной шины МПИ
| 23          | nADC7        | Вых-3/Вход   | Разряд AD7 центральной шины МПИ
| 24          | nADC8        | Вых-3/Вход   | Разряд AD8 центральной шины МПИ
| 25          | nADC9        | Вход         | Разряд адреса AD9 центральной шины МПИ
| 26          | nCSP         | Вход         | Выбор контроллера на периферийной шине МПИ
| 27          | nRPLYP       | Выход ОК     | Строб подтверждения транзакции периферийной шины МПИ
| 28          | PA1          | Выход        | Выход разряда 1 регистра защелки адреса периферийной шины МПИ
| 29          | nEP          | Выход        | Выход декодера адрес, низкий уровень при обращении по периферийному базовому адресу контроллера +100<sub>8</sub>, используется вместе с выходами PA0, PA1 для организации доступа к параллельному порту типа 580ВВ55А со стороны периферийного процессора.
| 30          | nSYNCP       | Вход         | Строб адреса периферийной шины МПИ
| 31          | nDINP        | Вход         | Строб чтения данных периферийной шины МПИ
| 32          | nDOUTP       | Вход         | Строб записи данных периферийной шины МПИ
| 33          | PA0          | Выход        | Выход разряда 0 регистра защелки адреса периферийной шины МПИ
| 34          | nIAKIP       | Вход         | Вход цепочки подтверждения прерывания периферийного процессора
| 35          | nINITP       | Вход         | Аппаратный сброс со стороны перифейриного процессора
| 36          | nADP7        | Вых-3/Вход   | Разряд AD7 периферийной шины МПИ
| 37          | nADP6        | Вых-3/Вход   | Разряд AD6 периферийной шины МПИ
| 38          | nADP5        | Вых-3/Вход   | Разряд AD5 периферийной шины МПИ
| 39          | nADP4        | Вых-3/Вход   | Разряд AD4 периферийной шины МПИ
| 40          | nADP3        | Вых-3/Вход   | Разряд AD3 периферийной шины МПИ
| 41          | nVIRQP       | Выход OK     | Запрос прерывания периферийного процессора
| 42          | VCC          | Питание      | Потенциал +5В (источник питания)

### Описание
Микросхема 1801ВП1-120 представляет собой мост межпроцессорной связи. Имеет
два полноценных порта подключения к шине МПИ, шины условно принадлежат
центральному и перифейриному процессорам. Широкоизвестно применение данной
микросхемы в компьютере УКНЦ.

Микросхема предоставляет 3 канала обмена между шинами, каналы 0 и 1 являются
двунаправленными и позволяют передавать данные в двух направлениях, канал 2
является однонаправленным и позволяет посылать данные в направлении от
центрального процессора к периферийному. Базовые адреса регистров
определяются сигналом выбора контроллера nCSx.

Буферные регистры данных являются восьмиразрядными. Биты 7 в регистре состояний
означают готовность принятых данных приемника для чтения или гнотовность
буферного регистра данных передатчика для записи. Биты 6 в регистре состояния
доступны для записи и чтения и управляют разрешением прерываний от
приемника или передатчика. Остальные биты в регистре состояний не реализованы
и всегда читаются как нулевые.

#### Адреса регистров и вектора прерывания на центральной МПИ
| Адрес             | Вектор          | Описание
|-------------------|-----------------|-----------------------------------------------------
| +1560<sub>8</sub> | 60<sub>8</sub>  | Регистр состояния приемника канала 0
| +1562<sub>8</sub> |                 | Регистр данных приемника канала 0, только чтение
| +1564<sub>8</sub> | 64<sub>8</sub>  | Регистр состояния передатчика канала 0
| +1566<sub>8</sub> |                 | Регистр данных передатчика канала 0, только запись
| +0660<sub>8</sub> | 460<sub>8</sub> | Регистр состояния приемника канала 1
| +0662<sub>8</sub> |                 | Регистр данных приемника канала 1, только чтение
| +0664<sub>8</sub> | 464<sub>8</sub> | Регистр состояния передатчика канала 1
| +0666<sub>8</sub> |                 | Регистр данных передатчика канала 1, только запись
| +0674<sub>8</sub> | 474<sub>8</sub> | Регистр состояния передатчика канала 2
| +0676<sub>8</sub> |                 | Регистр данных передатчика канала 2, только запись

#### Регистр состояния приемника на ЦП
| Бит | Описание
|-----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| 6   | разрешение прерываний от приемника, если разряд установлен в 1, то прерывания от приемника разрешены, сбрасывается в 0 по сигналу nINITC, доступен по чтению и записи
| 7   | готовность данных приемника в буферном регистре, доступен по чтению, сбрасывается при чтении буферного регистра данных приемника

#### Регистр состояния передатчика на ЦП
| Бит | Описание
|-----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| 6   | разрешение прерываний от передатчика, если разряд установлен в 1, то прерывания от передатчика разрешены, сбрасывается в 0 по сигналу nINITC, доступен по чтению и записи
| 7   | готовность буферного регистра данных передатчика, доступен по чтению, сбрасывается при записи буферного регистра данных передатчика

#### Адреса регистров и вектора прерывания на периферийной МПИ
| Адрес            | Вектор          | Описание
|------------------|-----------------|-----------------------------------------------------
|                  | 314<sub>8</sub> | Прерывание по nINITC
| +060<sub>8</sub> | 320<sub>8</sub> | Регистр данных приемника канала 0, только чтение
| +062<sub>8</sub> | 330<sub>8</sub> | Регистр данных приемника канала 1, только чтение
| +064<sub>8</sub> | 340<sub>8</sub> | Регистр данных приемника канала 2, только чтение
| +066<sub>8</sub> |                 | Регистр состояния приемников каналов 0-2
| +070<sub>8</sub> | 324<sub>8</sub> | Регистр данных передатчика канала 0, только запись
| +072<sub>8</sub> | 334<sub>8</sub> | Регистр данных передатчика канала 1, только запись
| +076<sub>8</sub> |                 | Регистр состояния передатчиков каналов 0-1
| +100<sub>8</sub> |                 | Базовый адрес выхода nEP (на nCS 580ВВ55А)

#### Регистр состояния приемников на ПП
| Бит | Описание
|-----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| 0   | разрешение прерываний от приемника канала 0, если разряд установлен в 1, то прерывания от приемника разрешены, сбрасывается в 0 по сигналу nINITP, доступен по чтению и записи
| 1   | разрешение прерываний от приемника канала 1, если разряд установлен в 1, то прерывания от приемника разрешены, сбрасывается в 0 по сигналу nINITP, доступен по чтению и записи
| 2   | разрешение прерываний от приемника канала 2, если разряд установлен в 1, то прерывания от приемника разрешены, сбрасывается в 0 по сигналу nINITP, доступен по чтению и записи
| 3   | готовность данных приемника канала 0, доступен по чтению, сбрасывается при чтении буферного регистра данных приемника
| 4   | готовность данных приемника канала 1, доступен по чтению, сбрасывается при чтении буферного регистра данных приемника
| 5   | готовность данных приемника канала 2, доступен по чтению, сбрасывается при чтении буферного регистра данных приемника
| 6   | разрешение прерывания по поступлению сигнала nINITC, сбрасывается по nINITP, доступен по чтению и записи, вектор прерывания 314<sub>8</sub>

#### Регистр состояния передатчиков на ПП
| Бит | Описание
|-----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| 0   | разрешение прерываний от передатчика канала 0, если разряд установлен в 1, то прерывания от передатчика разрешены, сбрасывается в 0 по сигналу nINITP, доступен по чтению и записи
| 1   | разрешение прерываний от передатчика канала 1, если разряд установлен в 1, то прерывания от передатчика разрешены, сбрасывается в 0 по сигналу nINITP, доступен по чтению и записи
| 2   | отключение канала 0 от адресного пространства центрального процессора, сбрасывается в 0 по сигналу nINITP, доступен по чтению и записи
| 3   | готовность буферного регистра данных передатчика канала 0, доступен по чтению, сбрасывается при записи буферного регистра данных передатчика
| 4   | готовность буферного регистра данных передатчика канала 1, доступен по чтению, сбрасывается при записи буферного регистра данных передатчика
